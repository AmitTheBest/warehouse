!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("atk4JS",[],t):"object"==typeof exports?exports.atk4JS=t():e.atk4JS=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(module,exports,__webpack_require__){"use strict";!function($,window,document,undefined){$.fn.api.settings.onResponse=function(response){if(!response.success){var m=$("<div>").appendTo("body").addClass("ui scrolling modal").html(response.message);return m.modal({duration:100,onHide:function(){return m.children().remove(),!0}}).modal("show"),{success:!0}}try{if(response&&response.html&&response.id){var result=$("#"+response.id).replaceWith(response.html);if(!result.length)throw{message:"Unable to replace element with id: "+response.id}}if(response&&response.eval)var result=function(){eval(response.eval.replace(/<\/?script>/g,""))}.call(this.obj);return{success:!0}}catch(e){return{success:!1,error:"Error in ajax replace or eval:\n"+e.message}}},$.fn.api.settings.successTest=function(e){return e.success?(this.data={},!0):!!e.error&&(alert(e.error),!0)},$.fn.api.settings.onFailure=function(e){var t=window.open(null,"Error in JSON response","height=1000,width=1100,location=no,menubar=no,scrollbars=yes,status=no,titlebar=no,toolbar=no");t?(t.document.write("<h5>Error in JSON response</h5>"),t.document.write(e),t.document.write('<center><input type=button onclick="window.close()" value="Close"></center>')):alert("Error in ajaxec response"+e)}}(jQuery,window,document)},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="__"+e,i=$.fn[e];$.fn[e]=function(e){return this.each(function(){var n=$(this),i=n.data(o),a=$.extend({},t.DEFAULTS,n.data(),"object"===(void 0===e?"undefined":r(e))&&e);i&&!$.isEmptyObject(i)||n.data(o,i=new t(this,a)),"string"==typeof e&&i[e]()})},n&&($[e]=function(t){return $({})[e](t)}),$.fn[e].noConflict=function(){return $.fn[e]=i}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){o(this,e);var r=n.url;return $.isEmptyObject(n.params)||(r+=(r.indexOf("?")>=0?"&":"?")+$.param(n.params)),r};t.default=r,r.DEFAULTS={url:null,params:{}},e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){o(this,e);var r=$(t);n.confirm&&!confirm(n.confirm)||r.api({on:"now",url:n.uri,data:n.uri_options,method:"POST",obj:r})};t.default=r,r.DEFAULTS={uri:null,uri_options:{},confirm:null},e.exports=t.default},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),createModal=function(){function createModal(element,options){_classCallCheck(this,createModal);var $m=$('<div class="atk-modal ui modal scrolling"/>').appendTo("body").html(this.getDialogHtml(options.title));$m.modal($.extend({onHide:function(e){return!0},onHidden:function(){$m.remove()},onVisible:function onVisible(){$.getJSON(options.uri,options.uri_options,function(resp){$m.find(".atk-dialog-content").html(resp.html);var result=function(){eval(resp.eval.replace(/<\/?script>/g,""))}.call(this.obj)}).fail(function(){console.log("Error loading modal content.")}),$m.on("close",".atk-dialog-content",function(){$m.modal("hide")})}},options.modal)).modal("show")}return _createClass(createModal,[{key:"getDialogHtml",value:function(e){return'<i class="close icon"></i>\n          <div class="header">'+e+'</div>\n          <div class="image content atk-dialog-content">\n            <div class="ui active inverted dimmer">\n              <div class="ui text loader">Loading</div>\n            </div>\n          </div>'}}]),createModal}();exports.default=createModal,createModal.DEFAULTS={title:"",uri:null,uri_options:{},modal:{duration:100}},module.exports=exports.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){o(this,e);var r=$(t);r.spinner({loaderText:"",active:!0,inline:!0,centered:!0,replace:!1}),n.uri&&r.api({on:"now",url:n.uri,data:n.uri_options,method:"GET",obj:r})};t.default=r,r.DEFAULTS={uri:null,uri_options:{}},e.exports=t.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t,n){o(this,e);var r=$(t);r.remove(".dimmer"),r.remove(".spinner");var i=$(n.baseDimmerMarkup),a=$(n.baseLoaderMarkup),s=null;a.toggleClass("active",n.active),a.toggleClass("indeterminate",n.indeterminate),a.toggleClass("centered",n.centered),a.toggleClass("inline",n.inline),!!n.loaderText&&(a.toggleClass("text",!0),a.text(n.loaderText)),n.dimmed?(i.toggleClass("active",n.active),s=i.append(a)):s=a,this.showSpinner(r,s,n.replace)}return r(e,[{key:"showSpinner",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&e.empty(),e.append(t)}}]),e}();t.default=i,i.DEFAULTS={active:!1,replace:!1,dimmed:!1,inline:!1,indeterminate:!1,loaderText:"Loading",centered:!1,baseDimmerMarkup:'<div class="ui dimmer"></div>',baseLoaderMarkup:'<div class="ui loader"></div>'},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n(0);var r=n(1),i=o(r),a=n(6),s=o(a),l=n(5),u=o(l),c=n(3),d=o(c),f=n(2),p=o(f),m=n(4),v=o(m);(0,i.default)("spinner",s.default),(0,i.default)("reloadView",u.default),(0,i.default)("ajaxec",d.default),(0,i.default)("addParams",p.default,!0),(0,i.default)("createModal",v.default)}])});